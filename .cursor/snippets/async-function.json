{
  "name": "Async Function with Type Hints",
  "description": "Async function with proper type hints and documentation",
  "prefix": "asyncfunc",
  "body": [
    "async def ${1:function_name}(",
    "    ${2:param}: ${3:type},",
    "    db: AsyncSession = Depends(get_db)",
    ") -> ${4:return_type}:",
    "    \"\"\"",
    "    ${5:Function description}.",
    "    ",
    "    Args:",
    "        ${2:param}: ${6:Parameter description}",
    "        db: Database session",
    "        ",
    "    Returns:",
    "        ${4:return_type}: ${7:Return description}",
    "        ",
    "    Raises:",
    "        HTTPException: If operation fails",
    "    \"\"\"",
    "    try:",
    "        ${8:# Implementation}",
    "        ",
    "        return ${9:result}",
    "        ",
    "    except Exception as e:",
    "        await db.rollback()",
    "        raise HTTPException(",
    "            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,",
    "            detail=f\"${10:Error message}: {e}\"",
    "        )"
  ],
  "scope": "python"
} 